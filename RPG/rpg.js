let readline = require("readline-sync");


console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")
console.log("                                                                                                                          ")

console.log("@@@@@@@@  @@@  @@@  @@@@@@@@  @@@@@@@   @@@@@@@    @@@@@@   @@@@@@@   @@@  @@@     @@@@@@@@   @@@@@@   @@@@@@@   @@@@@@@@   @@@@@@   @@@@@@@  ")  
console.log("@@@@@@@@  @@@  @@@  @@@@@@@@  @@@@@@@@  @@@@@@@@  @@@@@@@@  @@@@@@@@  @@@  @@@     @@@@@@@@  @@@@@@@@  @@@@@@@@  @@@@@@@@  @@@@@@@   @@@@@@@  ")  
console.log("@@!       @@!  @@@  @@!       @@!  @@@  @@!  @@@  @@!  @@@  @@!  @@@  @@!  !@@     @@!       @@!  @@@  @@!  @@@  @@!       !@@         @@!    ")
console.log("!@!       !@!  @!@  !@!       !@!  @!@  !@!  @!@  !@!  @!@  !@!  @!@  !@!  @!!     !@!       !@!  @!@  !@!  @!@  !@!       !@!         !@!    ")
console.log("@!!!:!    @!@  !@!  @!!!:!    @!@!!@!   @!@  !@!  @!@!@!@!  @!@!!@!   @!@@!@!      @!!!:!    @!@  !@!  @!@!!@!   @!!!:!    !!@@!!      @!!    ")
console.log("!!!!!:    !@!  !!!  !!!!!:    !!@!@!    !@!  !!!  !!!@!!!!  !!@!@!    !!@!!!       !!!!!:    !@!  !!!  !!@!@!    !!!!!:     !!@!!!     !!!    ")
console.log("!!:       :!:  !!:  !!:       !!: :!!   !!:  !!!  !!:  !!!  !!: :!!   !!: :!!      !!:       !!:  !!!  !!: :!!   !!:            !:!    !!:    ")
console.log(":!:        ::!!:!   :!:       :!:  !:!  :!:  !:!  :!:  !:!  :!:  !:!  :!:  !:!     :!:       :!:  !:!  :!:  !:!  :!:           !:!     :!:    ")
console.log(":: ::::     ::::     :: ::::  ::   :::   :::: ::  ::   :::  ::   :::   ::  :::      ::       ::::: ::  ::   :::   :: ::::  :::: ::      ::    ")
console.log(" : :: ::      :      : :: ::    :   : :  :: :  :    :   : :   :   : :   :   :::      :         : :  :    :   : :  : :: ::   :: : :       :     ")





console.log("                                                                     .-:+so+-.                                                        ")
console.log("                                                                 -/oydmdyo+ssyo\                                                      ")
console.log("                                                    `````       odNmMMMooooooMmN+                                                    ")
console.log("                                                 `/syys/-/:     oMMMMMMo-..-+MNmh.                                                   ")
console.log("                                                 -myNmhm:hs`    oMMMMMMy-..-sMMMN.                                                   ")
console.log("                                                 .ymdyhsys:     /NMMMMM/-..-/MMMMM                                                    ")
console.log("                                                   .dMNm-       :Nm+            M/                                                     ")
console.log("                                                    hMMd`       -NMmMMMN-..-MMMNm+                                                      ")
console.log("                                                   `yMhs`       `dMdNMMM-..-MMMMss                                                        ")
console.log("                                                   .dMds`       .hMdmMMM-..-mMMMyy                                                           ")         
console.log("                                                   .NMdy.       .yMdhMMM-..-mMMMdo          ..---...                                          ")
console.log("                                                   -MMmy.       .oMdyMMN-..-MMMMmy     ::://:/-hy/-.oo/`                                     ")
console.log("                                                -:`+MMds`       `sNNomMN-..-MMNNm+    .oy/..`:mNNNmydNNy                                  ")
console.log("                                             `.-.`.:/+s+`      ``:ohhdMMdhhmMMNdh+.../o/--..:os+osdMMMMy:.                               ")
console.log("                                           -:..-//::/++o+```.-`--:ooyhdNMMMMMNhs+.:o+:-::+/--:/-.:hMMMNNd-                               ")
console.log("                                          -:.`++::ss//Nms:..// --/://syhdNNMhsoso/y///oydmmsoo/-/hmMNhohy-                              ")
console.log("                                          :odh+/ymhNMNMNysso+/:/---/oyyyosdNm+ooyhddhsdmms/..+MNdhsoy+o+..                               ")
console.log("                                        `./dMMMhhNNmdhdMm/-.-/.`.++//odNd:+hddmNNmsNdo.-+.` `/MMMMMy. -o.                                ")
console.log("                                        +soNNds+-wzdtdazyNmy:+o//s/ossdysshhhyosshmdyss:.`-+-omMyhMMMd` :                                 ")
console.log("                                       -/////////zzddNNNMsz///////////////////:dmy.``hNy/ymdmNh.ddmMNo .                                ")
console.log("                              `wqaatsoeshhdymNMNmydmNNNmNahpNzshmhyrwmbfhMM////.-ys`-ssoydmmys/s+/NMm+..                                ")
console.log("                              .zoqaqeyeutghryysdd-y++o+oosxyoysxmcmhaecsMMM////`:NM:y:-ohmh:+sy-/mMN+``                              ")
console.log("                                     `-////////nnn||||||||nnn//////////////////dmh/..os+/:h-::.:NMdo                               ")
console.log("                                      -sNNMMMMMMMMN||||||s+..  .hNh-hNMMMMMMdyssyyyo-  `:sssy.dMM+.                                ")
console.log("                                      .hs/MMMMMMMMd||||||s/:Mdhhy-:/-ydMMMMMMMMMMNhsyhosdMMMMo-mMd:`                              ")
console.log("                                      `+N+mMMMMMMMd||||||y+/NNmmNddh:`:sdyhhyssyoosddhydmmms//msh/.`                             ")
console.log("                                       -h+sMMMMNMMd||||||d:-oh/-:``::`:/+NMM:..-.`./:`-`   `ydsy+:`                             ")
console.log("                                        /o:oyNMNNMh||||||d:so:/- ` `ohMMMMMM+ :+-  /:    `-/+:/.`                               ")
console.log("                                         -/MMMMMMMh||||||my+s-:.`y- -MMMMMMMo``-:`:+.`  `:o-..                                  ")
console.log("                                           +sydNNMh||||||dN+d- - /N+`dMMMMMMs-ys::.-` `:++:.                                   ")
console.log("                                            -/-:/M.||||||dMmoy/. `hm:ydhddmdosh.`.m+/yd/.y-                                       ")
console.log("                                                /M.||||||dMMNhssdhodhhmNNyohyshssos/.+h+o+`                                        ")
console.log("                                                yM.||||||dMMMMMoNNNmmdmNNyshy+Nmmdy/``ymN/                                               ")
console.log("                                               .hN.||||||dMMMMm+NNhdmydddddddmmNmdmsd+ydd+           +o                                     ")
console.log("                                               ohM.||||||dMMMd+NmhMmdMMMMMMh+mddmy-/shNMd:         oNNs                                     ")
console.log("                                              -sdM.||||||dNhymdh:yMohMMMMMMy/h//dho+/:odmo-       :hhh     /s+                                 ")
console.log("                                             .+/dM..||||.dhyMs.` sh-hMMMMMMy++/`y+`odyo../o`    `/dNNNmysdmNy.                                ")
console.log("                                            .--/NM..||||.doydm+` o:.hMMMMMMds-y +: /mMNs-`:/-. `odNomMMyhmyo-                                 ")
console.log("                                           `. `+MM..||||.dNh:dMh.-/.hMMMMMMm.o+`:` oMMMMNhsssy/yNM+/Nm+/hh/`                                  ")
console.log("                                           -  `dMM..||||.dMNs/Mhs .`hMMMMMMy`h-.-  hMMNNmMMNmNhmMNshm:.do/`                                ")
console.log("                                        ` `-  +MMM..||||.dMNmoMNo- `hMMMMMMh+y`    MMmydsomMhNdoydhm+.sy-                                  ")
console.log("                                        ` -  `mMM +'||||'dMdNyyM-o `hMMMMMMds-    -MMmo+.`-mddysyoyddhs-                                ")
console.log("                                          . `+MMM +'||||'dNmMN+M//  hMMMMMMh-    `mMMd+o:` :mmhmho-hs/`                              ")
console.log("                                          . /NMMM o'||||'dNNMM+Ns`  hMMMMMMy     .MMMNo++-``dMsMh-ss.                               ")
console.log("                                         `. sMMMM +'||||'dMMMMmos   hMMMMMMy  .  oMMMMyo+- `hMddmyy-                                ")
console.log("                                         .  NMMMM +'||||'dMMMMMos   hMMMMMMy  `  sMMMMm++. `dMNsmy.                                 ")
console.log("                                        `- `NMMMM +'||||'dMMMMNos   hMMMMMMy  .-.sMMMMNo/. `dMNys:                                 ")
console.log("                                        +: :MMMMM / |||| dMMMMoms   hMMMMMMh  `-sdMMMMMs/-  hMNy/`                                 ")
console.log("                                       .y: /MMMMM o |||| dMMMM/Ms   hMMMMMMy  `-hMMMMMMs+-  dMNys:                              ")
console.log("                                      `+s- +MMMMM +`|||| dMMMNoMs   hMMMMMMy  `-hMMMMMMs+-  hMNsdo                              ")
console.log("                                      -:+. +MMMMM + |||| dMMMNoMs   hMMMMMMy  `-dMMMMMMs/-  hMNsds`                             ")
console.log("                                     `..+. :MMMMM / |||| dMMMNoMs   hMMMMMMy  `-hMMMMMMs+-` hMNsds.                              ")
console.log("                                    -.`.h+..NMMMM + |||| dMMMM/M-   hMMMMMMy  . yMMMMMMds+. sNNsdd-                               ")
console.log("                                    /-./N` `NMMMM / |||| dMMMMoM`   hMMMMMMy  . yMMMMMMNmds..::.oms:.                              ")
console.log("                                       os   NMMMM h |||| dMMMNoM`   hMMMMMMy  - yMMMMMMMMMdsyo+/.`os+:                              ") 
console.log("                                      oh:   NMMMM m |||| dMMMNoM.   hMMMMMMy  . yMMMMMMMMMMNhyo` `. :+.                              ")
console.log("                                      hdys  NMMMM m |||| dMMMNoM-   hMMMMMMy  . yMMMMMMMMMMMMm`      .:`                              ")   
console.log("                                    ` +sdN  NNMMM \ |||| dMMMN+M.   hMMMMMMy  . yMMMMMMMMMMMMm:`      .:.                              ") 
console.log("                                   `-  hMh  NymMM.  |||| dMMMM+N.   hMMMMMMy  - yMMMMMMMMMMMMMm.       `+`                              ")
console.log("                                   -/ -dM+  d+NMM.  ||||dMMMMoM.   hMMMMMMy  -`yMMMMMMMMMMMMMMd-.`.    `/`                              ")
console.log("                                   -` +oN-  m+mMMM  ||||.mMMMMoM``  hMMMMMMy  . yMMMMMMMMMNmhMMd++/`--``/y:                               ")
console.log("                                   - shhN  `NymMMM :||||-NMMMN/d-s. hMMMMMMy  ` yMMMMMMNhm/dMMMMNMdos  -/Ny                               ")
console.log("                                   --smhm  +MmoMMM +||||:MMMMyh+///`hMMMMMMy    yMMMMNM+:h`sMMMMMN+oo:ydNMh.                              ")
console.log("                                  ``:/yMd  hMMoMMM +'||.:MMMN+M.o/o.hMMMMMMy    /mNMMMm:-s.+dMMMMNo/s`::smd:`                             ")
console.log("                                  . oshN/ `MMNoMMM +'||./MMMNsM y:-`hMMMMMMy    .NmyhNd--/-:oNMMMMs/+   -/m:`                             ")
console.log("                                  . dMNh` oMMsdMMM -'|| /MMMsdM`/-  hMMMMMMy    .My:oh+.-:-.:hMMMMy:o   `:m:`                             ")
console.log("                                  .-hmM/ `mMmoMMmM `'|| /MMMoMN..-  hMMMMMMy    .d+/:.--:/: -oMMMMNo/   ``d:`                             ")
console.log("                                 -+oN+m- /Mm+mMmsM `'||`/yddhMm.``  hMMMMMMy    -.       .. /+NMMMmo+    `s/                               ")
console.log("                               /o/.-h`o /dN/dhNo:d `'||.+MMMMMM-.   hMMMMMMy   .-           `:hMMMN/+o    o:`                             ")
console.log("                               :+.os/-o`mN/msoy--o ` ||`+MMMMMMmmy-.yNNNNNNs`..-/            `sMMMNo-:   `o:                              ")
console.log("                               .yhy///-od/sy..-.:-`. || yMMMMMMMM/``.-:--:-.`` ``             oMMMN::-   `h/                                ")
console.log("                              `-dN: ho:d/.-:.:.   `:`|| hMMMMMMMd`                            oNMMm::s   .d-                              ")
console.log("                              -.Md  y/s/-..:.`    `:`|| mMMMMMMM/                             sMMMm::o. `hh`                             ")
console.log("                              ..M:  .s.`..        `- || mMMMMMMy                              smMMMm+/: -mo.                             ")
console.log("                               .M  :s:.`           : || mMMMMNh`                              -oNMMm.:` :Ns`                             ")
console.log("                              `.h -:.             `o ||`mMMMN/                                 :sMNy/:` oNo`                              ")
console.log("                              ``:`.               -m`||`mMMMs                                  -oMNmmd-/yM/`                               ")
console.log("                              .`-`               -dN`||-NMMN-                                  -dMNmh:```ho.                               ")
console.log("                             `-`               -dMMN`||:MMMm`                                  -mMmmhNmyoos.                               ")
console.log("                                            -+hNMMMN.||.MMMN/                                  /mMNMNmNmmNm+`                              ")
console.log("                                       --:omMMMMMMMM || MMMMh`                                 /mMNho   .-:ss`                                ")
console.log("                                     omMMMMMMMMMMMMM || MMMMd-                                odMNo:y`      /o`                                 ")
console.log("                                   yNMMMMMMMMMMMMMMM ||  MMMMm                                dMMNyo+:y/     `:y/                                 ")
console.log("                                  yNmmNmmdhyyyysysoo v :::/+-                               -/oo+:://:::::-+-`.                                 ")
console.log("                                                                                                                                                 ")
console.log("                                                                                                                                                 ")
console.log("                                                                                                                                                 ")
console.log("                                                                                                                                                 ")
console.log("                                                                                                                                                 ")


    if (readline.keyInYN("Welcome, do you wish to procede?")){
        console.log("You're Journey Begins...")
    }
    







let playerName = readline.question("What is your name? ");
let death = readline.question("Give us a five letter nickname for you. ");

let localUser = {
    Name : playerName,
    health: 100,
    kills: 0,
    lvl: 1,
    agility: 1,

    inventoryItems: [{    
        name: "Small Health Potion",
        attribute: "healing",
        heal: 5
    },{
        name: "bow",
        damageModifier: 3,
        hitModifier: 3,
        armed: true,
        equiped: true,
    }],
}

let armed ;
    let equipedDamageModifierTotalArray ;

    let damageModifierTotalArray ;

    let damageModifierTotal ;

    let hitModifierTotalArray ;

    let hitModifierTotal ;

    let attackbuffTotalArray ;

    let attackbuffTotal ;

function update(){
    armed = (localUser.inventoryItems.some(item => item.armed === true));

    equipedDamageModifierTotalArray = localUser.inventoryItems.filter(item => item.equiped === true);
console.log(equipedDamageModifierTotalArray)

    damageModifierTotalArray = equipedDamageModifierTotalArray.filter(item => item.damageModifier < 0);
console.log(damageModifierTotalArray)

    damageModifierTotal = (damageModifierTotalArray.reduce((sum,item)=>{ 
        return item.damageModifier + sum
    },0));
console.log(damageModifierTotal)
    hitModifierTotalArray = localUser.inventoryItems.filter(item => item.hitModifier === true);

    hitModifierTotal = (hitModifierTotalArray.reduce((sum,item)=>{ 
        return item.hitModifier + sum
    },0));

    attackbuffTotalArray = localUser.inventoryItems.filter(item => item.attackbuff === true);

    attackbuffTotal = (attackbuffTotalArray.reduce((sum,item)=>{ 
        return item.attackbuff + sum
    },0));
}

let timeOfDay = 12;

let randomEnemys = [{
    name: "Goblin",
    strength: 2,
    agility: 2,
    speed: 3,
    health: 10,
    // ability: enemyUltGoblin(),
    weakness: "",
    givesLvls: .2,
},{
    name: "TimberWolf",
    strength: 3,
    agility: 5,
    speed: 5,
    health: 25,
    // ability: enemyUltTimberWolf(),
    weakness: "fire",
    givesLvls: .75,
},{
    name: "Manticore",
    strength: 6,
    agility: 2,
    speed: 2,
    health: 50,
    // ability: enemyUltManticore(),
    weakness: "",
    givesLvls: 1,
},{
    name: "Drake",
    strength: 12,
    agility: 10,
    speed: 12,
    health: 200,
    chaseChance: 0,
    // ability: enemyUltDragon(),
    weakness: "ice",
    givesLvls: 3,
}];

class Enemy{
    constructor(enemyObj){
    this.name = enemyObj.name
    this.strength = enemyObj.strength
    this.agility = enemyObj.agility
    this.speed = enemyObj.speed
    this.health = enemyObj.health
    // this.ability = enemyObj.ability 
    this.weakness = enemyObj.weakness
    this.givesLvls = enemyObj.givesLvls
    this.chaseChance = enemyObj.chaseChance || .5
    }
}

let searchItems = [{
    name: "Oil Lamp",
    attribute: "light",
},{
    name: "Gunpowder",
    attribute: "concussive",
},{
    name: "medicinal herb",
    attribute: "healing",
    heal: 2,
}];


let allItems = [{
    name: "Oil Lamp",
    attribute: "light",
},{
    name: "Gunpowder",
    attribute: "concussive",
},{
    name: "Fire Bomb", // combine Oil Lamp and Gunpowder //
    attribute: "explosive",
    attributeTwo: "concussive",
    attributeThree: "Fire",
    damage: 10,
},{
    name: "medicinal herb",
    attribute: "healing",
    heal: 2,
},{
    name: "Small Health Potion", //5 medicinal herbs
    attribute: "healing",
    heal: 5,
},{
    name: "Med Health Potion", //4 smalls
    attribute: "healing",
    heal: 15,
},{
    name: "large Health Potion", //3 meds
    attribute: "healing",
    heal: 30,
},{
    name: "Greater Health Potion", //2 large
    attribute: "healing",
    heal: 50,
},{
    name: "Pure Health Potion", //3 greater
    attribute: "healing",
    heal: 100,
}];

let weapons = [{
    name: "sword",
    type: "weapon",
    damageModifier: 5,
    hitModifier: 1,
    armed: true,
},{
    name: "bow",
    type: "weapon",
    damageModifier: 3,
    hitModifier: 3,
    armed: true,
},{
    name: "dagger",
    type: "weapon",
    damageModifier: 4,
    hitModifier: 0,
    armed: true,
},{
    name: "axe",
    type: "weapon",
    damageModifier: 3,
    hitModifier: 1,
    armed: true,
},{
    name: "club",
    type: "weapon",
    damageModifier: 2,
    hitModifier: 1,
    armed: true,
},{
    name: "stick",
    type: "weapon",
    damageModifier: 1,
    hitModifier: 1,
    armed: true,
},{
    
}];

let armors = [
    {
    name: "Cuir bouilli",
    type: "armor",
    defenseModifier: 1,
},{
    name: "Iron Chainmail",
    type: "armor",
    defenseModifier: 2,
},{
    name: "Bronze Lorica Plumata",
    type: "armor",
    defenseModifier: 3,
},{
    name: "Iron Lammellar",
    type: "armor",
    defenseModifier: 4,
},{
    name: "Steel Fullplate",
    type: "armor",
    defenseModifier: 6,
},{
    name: "Gold Oreintal Mountain Scale",
    type: "armor",
    defenseModifier: 5,
    buffAgainst: "Poison",
    hitModifier: 1,
},{
    name: "Inconel French Plate Cuirass",
    type: "armor",
    defenseModifier: 6,
    buffAgainst: "fire", 
}];


do {
    update()
    console.log("it is " + timeOfDay + "00 hours and " + dayNight(timeOfDay) +"time");
    actions = ["walk", "run", "search", "inventory", "rest", "combine", "save & exit"];
    index = readline.keyInSelect(actions, "What would you like to do?", {cancel: false});
    if (index === 0){
        walk()
    }else if(index === 1){
        run()
    }else if(index === 2){
        search()
    }else if(index === 3){
        inventory()
    }else if(index === 4){
        rest()
    }else if(index === 5){
        combine()
    }else if(index === 6){
        saveexit()
    }
}
while (localUser.health > 0);
if(localUser.health === 0 || localUser.health < 0){
    console.log("                                                                                                 ")
    console.log("                                                                                                 ")
    console.log("                                                                                                 ") 
    console.log("                                                                                                 ")
    console.log("                                                                                                 ")
    console.log("                                                                                                 ")                                                                                                         
    console.log("@@@ @@@   @@@@@@   @@@  @@@      @@@@@@   @@@@@@@   @@@@@@@@     @@@@@@@   @@@@@@@@   @@@@@@   @@@@@@@   ")
    console.log("@@@ @@@  @@@@@@@@  @@@  @@@     @@@@@@@@  @@@@@@@@  @@@@@@@@     @@@@@@@@  @@@@@@@@  @@@@@@@@  @@@@@@@@  ")
    console.log("@@! !@@  @@!  @@@  @@!  @@@     @@!  @@@  @@!  @@@  @@!          @@!  @@@  @@!       @@!  @@@  @@!  @@@  ")
    console.log("!@! @!!  !@!  @!@  !@!  @!@     !@!  @!@  !@!  @!@  !@!          !@!  @!@  !@!       !@!  @!@  !@!  @!@  ")
    console.log(" !@!@!   @!@  !@!  @!@  !@!     @!@!@!@!  @!@!!@!   @!!!:!       @!@  !@!  @!!!:!    @!@!@!@!  @!@  !@!  ")
    console.log("  @!!!   !@!  !!!  !@!  !!!     !!!@!!!!  !!@!@!    !!!!!:       !@!  !!!  !!!!!:    !!!@!!!!  !@!  !!!  ")
    console.log("  !!:    !!:  !!!  !!:  !!!     !!:  !!!  !!: :!!   !!:          !!:  !!!  !!:       !!:  !!!  !!:  !!!  ")
    console.log("  :!:    :!:  !:!  :!:  !:!     :!:  !:!  :!:  !:!  :!:          :!:  !:!  :!:       :!:  !:!  :!:  !:!  ")
    console.log("   ::    ::::: ::  ::::: ::     ::   :::  ::   :::   :: ::::      :::: ::   :: ::::  ::   :::   :::: ::  ")
    console.log("   :      : :  :    : :  :       :   : :   :   : :  : :: ::      :: :  :   : :: ::    :   : :  :: :  :   ")
    console.log("                                          __________________ _                                           ")
    console.log("                                         |  __   ___   __  | |                                           ")
    console.log("                                         | |  |   |   |  | | |                                           ")
    console.log("                                         | |  |   |   |  | | |                                           ")
    console.log("                                         | |_/    |   |_/  | |                                           ")
    console.log("                                         | | |    |   |    | |                                           ")
    console.log("                                         | | |    |   |    | |                                           ")
    console.log("                                         | | |.  _|_. | .  | |                                           ")
    console.log("                                         |                 | |                                           ")
    console.log(`                                         |      ${death}      | |                                        `)
    console.log("                                         |                 | |                                           ")
    console.log("                                  **     |  ** *    * **   | |      **                                   ")
    console.log("                                       /|)),,..,,)||(,,.,/|,.((/|                                        ")

}

function walk(){
    (timeTrack(2))
    walkRoll = Math.floor(Math.random()*2)
    walkRollTwo = Math.floor(Math.random()*2)
        if(walkRoll === 1){
            console.log("You are in a new area.")
        }else if(walkRoll === 0){
            if(walkRollTwo === 1){
                console.log("You are in a new area.")
            }else if (walkRollTwo === 0){
                Combat()
            }
        }
}

function run(){
    (timeTrack(1))
    runRoll = Math.floor(Math.random()*2)
        if(runRoll === 1){
            console.log("You are in a new area.");
        }else if(runRoll === 0){
                Combat()
            }
}

function search(){
    (timeTrack(1))
    console.log("You scavenge the immediate area for anything that will help you survive.")
    searchRoll = Math.floor(Math.random()*2)
    searchRollTwo = Math.floor(Math.random()*2)
    searchRollThree = Math.floor(Math.random()*2)
    searchRollFour = Math.floor(Math.random()*2)
    searchRollFive = Math.floor(Math.random()*2)
    searchRollSix = Math.floor(Math.random()*2)
    searchRollSeven = Math.floor(Math.random()*2)
    searchRollEight = Math.floor(Math.random()*2)
        if(walkRoll === 1){
            console.log("You find nothing.")
        }else if(searchRoll === 0){
            if(searchRollTwo === 1){
                console.log("You find nothing.")
            }else if (searchRollTwo === 0){
                if(searchRollThree === 1){
                    console.log("You find nothing.")
                }else if (searchRollThree === 0){
                    if(searchRollFour === 1){
                        console.log("You find nothing.")
                    }else if (searchRollFour === 0){
                        if(searchRollFive === 1){
                            console.log("You find nothing.")
                        }else if (searchRollFive === 0){
                            if(searchRollSix === 1){
                                getSearchItem()
                            }else if (searchRollSix === 0){
                                if(searchRollSeven === 1){
                                    getSearchItem()
                                }else if (searchRollSeven === 0){
                                    if(searchRollEight === 1){
                                        getSearchItem()
                                    }else if (searchRollEight === 0){
                                        getRareSearchItem()
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
}

// getSearchItem()

// getRareSearchItem()

// getKillItem()

// getRareKillItem()


function inventory(){
    const inventSelect = localUser.inventoryItems.map((item)=>{
        return item.name;
     })
     
     const selected = readline.keyInSelect(inventSelect, "Which item do you require?")
     
     const selectedItem = localUser.inventoryItems[selected]
     
     console.log(selectedItem)
}

function combine(){

}

function rest(){
    if (localUser.health < 100){
        (localUser.health + 10);
        (timeTrack(4))
        console.log("You take time to rest and regain a small amount of health.")
    }else{
        console.log("Altough you are not really tired you decide to take a break, you are rather lazy.")
        (timeTrack(3))
    }
}

function saveexit(){
    
    printUsageToStdout();
    process.exit = 1;
}

function timeTrack(add){
    (timeOfDay += add);
    if (timeOfDay > 24){
        (timeVarX = (timeOfDay % 24));
        (timeOfDay = (0 + timeVarX));
        return timeOfDay;
    }
}

function dayNight(time){
    var light = "dayornight";
    if(time >= 6 && time <= 19){
        light = "day";
    }else{
        light = "night";
    }
    return light;
}


function Combat(){
    var currentEnemy = new Enemy(randomEnemys[Math.floor(Math.random()*randomEnemys.length)])          
    console.log("A "+currentEnemy.name+" has appeared!")
    do{
        combatActions = ["Attack", "Flee", "Use Item", "combine", ""];
        index = readline.keyInSelect(combatActions,"The "+currentEnemy.name+"'s health is at "+currentEnemy.health+" and yours is at "+localUser.health+" What would you like to do?", {cancel: false});
        if (index === 0){
            attack(true)
        }else if(index === 1){
            flee()
        }else if(index === 2){
            useItem()
        }else if(index === 3){
            combine()
        }//else if(index === 4){
            // ()
        //}

        function attack(){
            if (armed === true){
                console.log(+damageModifierTotal+attackbuffTotal)
                damage = (damageModifierTotal + attackbuffTotal + (1*localUser.lvl))
                hitChance = (hitModifier(hitModifierTotal))
                if (hitChance === 0){
                    console.log("The "+currentEnemy.name+" dodged your attack!")
                }else{
                    currentEnemy.health = currentEnemy.health - damage
                    console.log("The "+currentEnemy.name+" took "+damage+" damage!")
                }
            }else{
                damage = ( 1*localUser.lvl )
                hitChance = (hitModifier(0))
                if (hitChance === 0){
                    console.log("The "+currentEnemy.name+" dodged your attack!")
                }else{
                    currentEnemy.health = currentEnemy.health - damage
                    console.log("The "+currentEnemy.name+" took "+damage+" damage!")
                }
            }
        }
            
        
        
        function hitModifier(hitAddOn){
            var hitRoll = 0
            var hit = 0
            localUser.agility % currentEnemy.agility === hitRoll;
            if(hitRoll > 0){
                if(hitAddOn > 0){
                    for(var i=0; i < hitAddOn; i++); 
                        hit = (Math.floor(Math.random()*2) + hit);
                        return hit;
                }else{
                    hit = Math.floor(Math.random()*2);
                    return hit;
                }
            }else{
                hit=1;
                return hit;
            }
        }
        
        console.log("The "+currentEnemy.name+" is attacking!")
        
        enemyAttack()
        
        function enemyAttack(){
            let damage = (damageReturn())
            hitChance = (enemyHitModifier())
            if (hitChance === 0){
                console.log("You dodged the attack!")
            }else{
                localUser.health = localUser.health - damage
                console.log("The "+currentEnemy.name+" hit you for "+damage+" damage!")
                }
            }
        

            function damageReturn(){
                var random = (Math.floor(Math.random()*2))
                var randomTwo = (Math.floor(Math.random()*2))
                if(random === 1){
                    if(randomTwo === 1){
                        var damageReturnNum = ( 2*currentEnemy.strength )
                        return damageReturnNum
                    }else if (randomTwo === 0){
                        var damageReturnNum = ( 1*currentEnemy.strength )
                        return damageReturnNum}
                }else if(random === 0){
            
                    if(randomTwo === 1){
                        let damageReturnNum = ( .5*currentEnemy.strength )
                        return damageReturnNum
                    }else if (randomTwo === 0){
                        var damageReturnNum = ( .25*currentEnemy.strength )
                        return damageReturnNum
                    }
                }
            }



            function enemyHitModifier(){
                var hitRoll = 0
                var hit = 0
                currentEnemy.agility % localUser.agility === hitRoll;
                if(hitRoll > 0){
                    if(currentEnemy.speed > 5){
                        for(var i=0; i < 3; i++); 
                            hit = (Math.floor(Math.random()*2) + hit);
                            return hit;
                    }else{
                        hit = Math.floor(Math.random()*2);
                        return hit;
                    }
                }else{
                    hit = Math.floor(Math.random()*2);
                    return hit;
                }
            }


    }
    while ((localUser.health > 0) && (currentEnemy.health > 0));

    if(currentEnemy.health === 0 || currentEnemy.health < 0){
        console.log("                                                                                                 ")
        console.log("                                                                                                 ")
        console.log("                                                                                                 ")
        console.log("The "+currentEnemy.name+" has been defeated! You have received "+currentEnemy.givesLvls+" levels!")
    }
}
