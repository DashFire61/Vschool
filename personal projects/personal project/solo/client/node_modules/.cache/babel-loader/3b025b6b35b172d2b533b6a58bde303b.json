{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Aspen Young\\\\OneDrive\\\\Documents\\\\Assignments\\\\personal projects\\\\personal project\\\\solo\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Aspen Young\\\\OneDrive\\\\Documents\\\\Assignments\\\\personal projects\\\\personal project\\\\solo\\\\client\\\\src\\\\context\\\\SteamProvider.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst SteamContext = React.createContext();\nconst steamAxios = axios.create();\nsteamAxios.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = \"Bearer \".concat(token);\n  return config;\n});\n\nclass SteamProvider extends Component {\n  constructor() {\n    super();\n\n    this.displayName = () => {\n      let data = steamAxios.get(\"https://vschool-cors.herokuapp.com?url=http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=37314FFEEC79310727026EBF2DB722E8&steamids=76561198073651590\").then(res => {\n        let array = data.response.players;\n        let finalObj = array[0];\n        let displayName = finalObj.personaname;\n        console.log;\n        return res.status(201).send(displayName);\n      }).catch(err => {\n        return err, \"Couldn't find that user.\";\n      });\n    };\n\n    this.state = {\n      displayName: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(SteamContext.Provider, {\n      value: _objectSpread({}, this.state, {\n        displayName: this.displayName\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nexport default SteamProvider;\nexport const withSteam = C => props => React.createElement(SteamContext.Consumer, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50\n  },\n  __self: this\n}, value => React.createElement(C, Object.assign({}, value, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51\n  },\n  __self: this\n})));","map":{"version":3,"sources":["C:\\Users\\Aspen Young\\OneDrive\\Documents\\Assignments\\personal projects\\personal project\\solo\\client\\src\\context\\SteamProvider.js"],"names":["React","Component","axios","SteamContext","createContext","steamAxios","create","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","SteamProvider","constructor","displayName","data","get","then","res","array","response","players","finalObj","personaname","console","log","status","send","catch","err","state","render","props","children","withSteam","C","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAGH,KAAK,CAACI,aAAN,EAArB;AACA,MAAMC,UAAU,GAAGH,KAAK,CAACI,MAAN,EAAnB;AAEAD,UAAU,CAACE,YAAX,CAAwBC,OAAxB,CAAgCC,GAAhC,CAAqCC,MAAD,IAAY;AAC5C,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAH,EAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,oBAAyCJ,KAAzC;AACA,SAAOD,MAAP;AACH,CAJD;;AAOA,MAAMM,aAAN,SAA4Bf,SAA5B,CAAsC;AAClCgB,EAAAA,WAAW,GAAE;AACT;;AADS,SAObC,WAPa,GAOC,MAAM;AAChB,UAAIC,IAAI,GAAGd,UAAU,CAACe,GAAX,CAAe,yKAAf,EAA0LC,IAA1L,CAA+LC,GAAG,IAAG;AAC5M,YAAIC,KAAK,GAAGJ,IAAI,CAACK,QAAL,CAAcC,OAA1B;AACI,YAAIC,QAAQ,GAAGH,KAAK,CAAC,CAAD,CAApB;AACA,YAAIL,WAAW,GAAGQ,QAAQ,CAACC,WAA3B;AACAC,QAAAA,OAAO,CAACC,GAAR;AACI,eAAOP,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBb,WAArB,CAAP;AACX,OANU,EAMRc,KANQ,CAMFC,GAAG,IAAI;AACZ,eAASA,GAAG,EAAE,0BAAd;AACH,OARU,CAAX;AASH,KAjBY;;AAET,SAAKC,KAAL,GAAa;AACThB,MAAAA,WAAW,EAAG;AADL,KAAb;AAGH;;AAcDiB,EAAAA,MAAM,GAAE;AACJ,WACI,oBAAC,YAAD,CAAc,QAAd;AACQ,MAAA,KAAK,oBACE,KAAKD,KADP;AAEDhB,QAAAA,WAAW,EAAE,KAAKA;AAFjB,QADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKU,KAAKkB,KAAL,CAAWC,QALrB,CADJ;AASH;;AA9BiC;;AAiCtC,eAAerB,aAAf;AAEA,OAAO,MAAMsB,SAAS,GAAGC,CAAC,IAAIH,KAAK,IAC/B,oBAAC,YAAD,CAAc,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACMI,KAAK,IAAI,oBAAC,CAAD,oBAAOA,KAAP,EAAkBJ,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADf,CADG","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst SteamContext = React.createContext()\r\nconst steamAxios = axios.create()\r\n\r\nsteamAxios.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem(\"token\")\r\n    config.headers.Authorization = `Bearer ${token}`\r\n    return config\r\n})\r\n\r\n\r\nclass SteamProvider extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            displayName : \"\"\r\n        }\r\n    }\r\n\r\n    displayName = () => {\r\n        let data = steamAxios.get(\"https://vschool-cors.herokuapp.com?url=http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=37314FFEEC79310727026EBF2DB722E8&steamids=76561198073651590\").then(res =>{\r\n            let array = data.response.players\r\n                let finalObj = array[0]\r\n                let displayName = finalObj.personaname\r\n                console.log\r\n                    return res.status(201).send(displayName)\r\n        }).catch(err => {\r\n            return ((err, \"Couldn't find that user.\"))\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <SteamContext.Provider \r\n                    value={{\r\n                        ...this.state,\r\n                        displayName: this.displayName\r\n                    }}>\r\n                    { this.props.children }\r\n                </SteamContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SteamProvider\r\n\r\nexport const withSteam = C => props => (\r\n    <SteamContext.Consumer>\r\n        { value => <C {...value} {...props}/> }\r\n    </SteamContext.Consumer>\r\n)"]},"metadata":{},"sourceType":"module"}